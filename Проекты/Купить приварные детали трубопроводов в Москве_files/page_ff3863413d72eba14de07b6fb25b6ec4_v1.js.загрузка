
; /* Start:"a:4:{s:4:"full";s:88:"/bitrix/templates/aspro_next/components/bitrix/catalog/main/script.min.js?16395121231396";s:6:"source";s:69:"/bitrix/templates/aspro_next/components/bitrix/catalog/main/script.js";s:3:"min";s:73:"/bitrix/templates/aspro_next/components/bitrix/catalog/main/script.min.js";s:3:"map";s:77:"/bitrix/templates/aspro_next/components/bitrix/catalog/main/script.min.js.map";}"*/
$(document).on("click","#headerfixed .buy.btn",(function(){$(".catalog_detail .buy_block .offer_buy_block .to-cart").length?$(".catalog_detail .buy_block .offer_buy_block .to-cart").is(":visible")?$(".catalog_detail .buy_block .offer_buy_block .to-cart").trigger("click"):location.href=arNextOptions.PAGES.BASKET_PAGE_URL:$(".catalog_detail .buy_block .offer_buy_block .btn").length&&$(".catalog_detail .buy_block .offer_buy_block .btn").trigger("click")})),$(document).on("click","#headerfixed .bx_catalog_item_scu",(function(){var offset=0;offset=$(".catalog_detail .sku_props .bx_catalog_item_scu").offset().top,$("body, html").animate({scrollTop:offset-150},500)})),$(document).on("click",".stores-title .stores-title__list",(function(){var _this=$(this);_this.siblings().removeClass("stores-title--active"),_this.addClass("stores-title--active"),$(".stores_block_wrap .stores-amount-list").hide(100).removeClass("stores-amount-list--active"),$(".stores_block_wrap .stores-amount-list:eq("+_this.index()+")").show(100,(function(){_this.hasClass("stores-title--map")&&"undefined"!=typeof map&&(map.container.fitToViewport(),"undefined"==typeof clusterer||$(this).find(".detail_items").is(":visible")||map.setBounds(clusterer.getBounds(),{zoomMargin:40}))})).addClass("stores-amount-list--active")})),$(document).ready((function(){lazyLoadPagenBlock()}));
/* End */
;
; /* Start:"a:4:{s:4:"full";s:68:"/bitrix/templates/aspro_next/js/dropdown-select.min.js?1639512124653";s:6:"source";s:54:"/bitrix/templates/aspro_next/js/dropdown-select.min.js";s:3:"min";s:54:"/bitrix/templates/aspro_next/js/dropdown-select.min.js";s:3:"map";s:58:"/bitrix/templates/aspro_next/js/dropdown-select.min.js.map";}"*/
$(document).ready((function(){$(document).on("click",".dropdown-select .dropdown-select__title",(function(){var _this=$(this),drawer=_this.parent().find("> .dropdown-select__drawer");_this.hasClass("clicked")||(_this.addClass("clicked"),_this.toggleClass("opened"),drawer.animate({height:"toggle"},100,(function(){_this.removeClass("clicked")})))})),$("html, body").on("mousedown",(function(e){"string"==typeof e.target.className&&e.target.className.indexOf("adm")<0&&(e.stopPropagation(),$(e.target).closest(".dropdown-select").length||$(".dropdown-select .dropdown-select__title.opened").click())}))}));
/* End */
;
; /* Start:"a:4:{s:4:"full";s:99:"/bitrix/templates/aspro_next/components/bitrix/news.list/landings_list3/script.min.js?1611149943351";s:6:"source";s:81:"/bitrix/templates/aspro_next/components/bitrix/news.list/landings_list3/script.js";s:3:"min";s:0:"";s:3:"map";s:0:"";}"*/
$(document).ready(function(){$(".landings_list3 .more").on("click",function(){var e=$(this),a=e.data("opened"),c=e.data("text"),d=e.text(),b=e.closest(".landings_list3").find(".hidden_items"),f=400;if(a=="N"){b.fadeIn(f);e.addClass("opened").data("opened","Y")}else{b.fadeOut(f);e.removeClass("opened").data("opened","N")}e.data("text",d).text(c)})});
/* End */
;
; /* Start:"a:4:{s:4:"full";s:115:"/bitrix/templates/aspro_next/components/bitrix/catalog.smart.filter/main_compact_ajax/script.min.js?163951212526416";s:6:"source";s:95:"/bitrix/templates/aspro_next/components/bitrix/catalog.smart.filter/main_compact_ajax/script.js";s:3:"min";s:99:"/bitrix/templates/aspro_next/components/bitrix/catalog.smart.filter/main_compact_ajax/script.min.js";s:3:"map";s:103:"/bitrix/templates/aspro_next/components/bitrix/catalog.smart.filter/main_compact_ajax/script.min.js.map";}"*/
function JCSmartFilter(ajaxURL,viewMode,params){this.ajaxURL=ajaxURL,this.form=null,this.timer=null,this.cacheKey="",this.cache=[],this.viewMode=viewMode,this.normal_url=!1,this.bindUrlToButton("set_filter",params.SEF_SET_FILTER_URL),this.sef=!0,this.bindUrlToButton("del_filter",params.SEF_DEL_FILTER_URL),params.SEF_DEL_FILTER_URL||(this.normal_url=!0)}$(document).ready((function(){$(document).on("click",".bx_filter.compact .bx_filter_parameters_box_title .delete_filter",(function(){var _this=$(this);_this.closest(".bx_filter_parameters_box").find("input[type=text]").val(""),_this.closest(".bx_filter_parameters_box").removeClass("set"),_this.closest(".bx_filter_parameters_box").find(".pict label").removeClass("active"),_this.closest(".bx_filter_parameters_box").find(".bx_filter_parameters_box_title .count_selected").text("");var t=!1;_this.closest(".bx_filter_parameters_box").find("input").each((function(){var __this=this;$(__this).prop("checked",!1),t&&clearTimeout(t),t=setTimeout((function(){smartFilter.reload(__this)}),100)}))})),$(document).on("click",".bx_filter.compact .bx_filter_block",(function(e){e.stopPropagation()})),$(document).on("click",".bx_filter_parameters_box_title:not(.prices)",(function(e){var target=e.target;if(!$(e.target).hasClass("tooltip")&&!$(e.target).hasClass("delete_filter")&&!$(e.target).closest(".delete_filter").length){if(e.stopPropagation(),$(this).closest(".bx_filter_parameters_box").hasClass("active")||($(".bx_filter_block:not(.limited_block)").slideUp(100),$(".bx_filter_parameters_box").removeClass("active")),$(this).closest(".bx_filter_parameters_box").hasClass("active"))$(this).next(".bx_filter_block").slideUp(100);else{var _this=$(this);setTimeout((function(){var boxOffsetLeft,boxWidth,windowWidth;_this.next(".bx_filter_block").offset().left+_this.next(".bx_filter_block").outerWidth()>$(window).width()?_this.next(".bx_filter_block").addClass("right"):_this.next(".bx_filter_block").removeClass("right")}),0),_this.next(".bx_filter_block").slideDown(200)}$(this).closest(".bx_filter_parameters_box").toggleClass("active")}})),$(document).on("click",".bx_filter_block .bx_filter_button_box .btn",(function(){$(this).closest("form").find(".bx_filter_search_button").click()})),$(document).on("click",(function(){$(".bx_filter_block:not(.limited_block)").slideUp(100),$(".bx_filter_parameters_box").removeClass("active")})),$(".hint .icon").click((function(e){e.stopPropagation();var tooltipWrapp=$(this).parents(".hint"),bActive=tooltipWrapp.is(".active");if($(".bx_filter .hint.active").removeClass("active").find(".tooltip").slideUp(200),!bActive){if($(this).parents("#mobilefilter").length){var leftPosHint=tooltipWrapp[0].getBoundingClientRect().left,mobFilterWidth,rightOfset=$("#mobilefilter").width()-leftPosHint;if(rightOfset<200){var tooltip=tooltipWrapp.find(".tooltip");rightOfset>100?tooltip.css("left",-(200-rightOfset)-10):(tooltip.css("left","auto"),tooltip.css("right",-20))}}tooltipWrapp.addClass("active").find(".tooltip").slideDown(200),tooltipWrapp.find(".tooltip_close").click((function(e){e.stopPropagation(),tooltipWrapp.removeClass("active").find(".tooltip").slideUp(200)}))}})),$(document).click((function(e){$(e.target).hasClass("tooltip")||$(".bx_filter .hint.active").removeClass("active").find(".tooltip").slideUp(200)}))})),JCSmartFilter.prototype.keyup=function(input){this.timer&&clearTimeout(this.timer),$(input).hasClass("disabled")||(this.timer=setTimeout(BX.delegate((function(){this.reload(input)}),this),500))},JCSmartFilter.prototype.click=function(checkbox){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(BX.delegate((function(){this.reload(checkbox)}),this),500)},JCSmartFilter.prototype.reload=function(input){if(""!==this.cacheKey)return this.timer&&clearTimeout(this.timer),void(this.timer=setTimeout(BX.delegate((function(){this.reload(input)}),this),1e3));if(this.cacheKey="|",this.position=BX.pos(input,!0),this.form=BX.findParent(input,{tag:"form"}),this.form){var values=[];values[0]={name:"ajax",value:"y"},this.gatherInputsValues(values,BX.findChildren(this.form,{tag:new RegExp("^(input|select)$","i")},!0)),$(".bx_filter_parameters_box").removeClass("set");for(var i=0;i<values.length;i++)this.cacheKey+=values[i].name+":"+values[i].value+"|",$("input[name="+values[i].name+"]").closest(".bx_filter_parameters_box").addClass("set");if(this.cache[this.cacheKey])this.curFilterinput=input,this.postHandler(this.cache[this.cacheKey],!0);else{if(this.sef){var set_filter=BX("set_filter"),reset_filter=BX("del_filter");set_filter.disabled=!0,reset_filter.disabled=!0}this.curFilterinput=input,BX.ajax.loadJSON(this.ajaxURL,this.values2post(values),BX.delegate(this.postHandler,this))}}var i=0;$(input).closest(".bx_filter_block").find("input[type=checkbox], input[type=radio]").each((function(){!0===$(this).prop("checked")&&++i})).promise().done((function(){0!=i?$(input).closest(".bx_filter_parameters_box").find(".bx_filter_parameters_box_title .count_selected").text(": "+i):$(input).closest(".bx_filter_parameters_box").find(".bx_filter_parameters_box_title .count_selected").text("")}))},JCSmartFilter.prototype.updateItem=function(PID,arItem,reset){if("N"===arItem.PROPERTY_TYPE||arItem.PRICE){var trackBar=window["trackBar"+PID];!trackBar&&arItem.ENCODED_ID&&(trackBar=window["trackBar"+arItem.ENCODED_ID]),trackBar&&arItem.VALUES&&(arItem.VALUES.MIN&&(arItem.VALUES.MIN.FILTERED_VALUE?trackBar.setMinFilteredValue(arItem.VALUES.MIN.FILTERED_VALUE):trackBar.setMinFilteredValue(arItem.VALUES.MIN.VALUE)),arItem.VALUES.MAX&&(arItem.VALUES.MAX.FILTERED_VALUE?trackBar.setMaxFilteredValue(arItem.VALUES.MAX.FILTERED_VALUE):trackBar.setMaxFilteredValue(arItem.VALUES.MAX.VALUE)),"Y"==reset&&(trackBar.leftPercent=trackBar.rightPercent=0,$("#"+arItem.VALUES.MIN.CONTROL_ID).val(""),$("#"+arItem.VALUES.MAX.CONTROL_ID).val(""),$("#left_slider_"+arItem.ENCODED_ID).css({left:"0%"}),$("#colorUnavailableActive_"+arItem.ENCODED_ID).css({left:"0%",right:"0%"}),$("#colorAvailableInactive_"+arItem.ENCODED_ID).css({left:"0%",right:"0%"}),$("#colorAvailableActive_"+arItem.ENCODED_ID).css({left:"0%",right:"0%"}),$("#right_slider_"+arItem.ENCODED_ID).css({right:"0%"})))}else if(arItem.VALUES)for(var i in arItem.VALUES)if(arItem.VALUES.hasOwnProperty(i)){var value=arItem.VALUES[i],control=BX(value.CONTROL_ID);if(control){var label=document.querySelector('[data-role="label_'+value.CONTROL_ID+'"]');input=document.querySelector('[id="'+value.CONTROL_ID+'"]'),value.DISABLED?label?(BX.addClass(label,"disabled"),input&&(input.setAttribute("disabled","disabled"),BX.addClass(input,"disabled"))):BX.addClass(control.parentNode,"disabled"):label?(BX.removeClass(label,"disabled"),input&&(input.removeAttribute("disabled"),BX.removeClass(input,"disabled")),$(control)&&($(control).prop("disabled",!1),$(control).removeClass("disabled")),$(label).find("span").removeClass("disabled")):BX.removeClass(control.parentNode,"disabled"),"Y"==reset&&("checkbox"!=$(control).attr("type")&&"radio"!=$(control).attr("type")||$(control).attr("checked")&&$(control).prop("checked",!1)),value.hasOwnProperty("ELEMENT_COUNT")&&(label=document.querySelector('[data-role="count_'+value.CONTROL_ID+'"]'))&&(label.innerHTML=value.ELEMENT_COUNT)}}},JCSmartFilter.prototype.postHandlerAjax=function(result,fromCache){$("#content").html(result)},JCSmartFilter.prototype.setUrlSortDisplay=function(url){var arReplace_url="",strReplace_url="";$(".sort_btn").each((function(){(arReplace_url=$(this).attr("href").split("?"))[0]=url,strReplace_url=arReplace_url.join("?"),$(this).attr("href",strReplace_url)}))},JCSmartFilter.prototype.filterCatalog=function(url,set_disabled,result){window.History.enabled||null!=window.history.pushState?window.History.pushState(null,document.title,decodeURIComponent(url)):location.href=url,this.setUrlSortDisplay(url),$.ajax({url:url,type:"GET",data:{ajax_get:"Y",ajax_get_filter:"Y"},success:function(html){var itemsHtml=$.trim($(html).find(".inner_wrapper").html());$(".middle > .container .inner_wrapper").html(itemsHtml),$(".catalog_block").ready((function(){touchItemBlock(".catalog_item a")})),window.matchMedia("(max-width: 992px)").matches&&$(".js_filter").length&&($("html,body").animate({scrollTop:$(".js_filter").offset().top},150),$(".js_filter .bx_filter.bx_filter_vertical").show()),$(".sections_wrapper .items .item").sliceHeight({fixWidth:1}),$(".fast_view_frame").remove();var eventdata={action:"filterSuccess",result:result};if(BX.onCustomEvent("onAjaxSuccessFilter",eventdata),"Y"==set_disabled){var set_filter=BX("set_filter"),reset_filter=BX("del_filter");set_filter.disabled=!1,reset_filter.disabled=!1}initCountdown(),showTotalSummItem()}})},JCSmartFilter.prototype.postHandler=function(result,fromCache){var hrefFILTER,url,curProp,modef=BX("modef"),modef_mobile=BX("modef_mobile"),modef_num=BX("modef_num"),modef_num_mobile=BX("modef_num_mobile"),reset="N";if("RESET_FORM"in result&&(document.getElementById("smartfilter").reset(),reset="Y"),result&&result.ITEMS){for(var PID in result.ITEMS)result.ITEMS.hasOwnProperty(PID)&&this.updateItem(PID,result.ITEMS[PID],reset);"Y"==reset&&$(".bx_filter_select_block").length&&$(".bx_filter_select_block").each((function(){var id=$(this).closest(".bx_filter_parameters_box").attr("property_id"),all_text=$(this).find(".input_wr_all input:first-child").data("title");$(this).find(".bx_filter_select_text").text(all_text),$(this).find(".bx_filter_select_popup li label").removeClass("selected")})),modef&&modef_num&&($(".bx_filter.compact .bx_filter_button_box .bx_filter_container_modef").html(BX.message("SELECTED")+result.ELEMENT_COUNT),$(".bx_filter.compact .bx_filter_button_box").show(),hrefFILTER=BX.findChildren(modef,{tag:"A"},!0),hrefFILTER_mobile=BX.findChildren(modef_mobile,{tag:"A"},!0),result.FILTER_URL&&hrefFILTER&&(hrefFILTER[0].href=BX.util.htmlspecialcharsback(result.FILTER_URL.replace("/filter/clear/apply/","/")),hrefFILTER_mobile[0].href=BX.util.htmlspecialcharsback(result.FILTER_URL.replace("/filter/clear/apply/","/"))),result.FILTER_AJAX_URL&&result.COMPONENT_CONTAINER_ID&&(BX.unbindAll(hrefFILTER[0]),BX.unbindAll(hrefFILTER_mobile[0]),BX.bind(hrefFILTER[0],"click",(function(e){return url=BX.util.htmlspecialcharsback(result.FILTER_AJAX_URL),BX.ajax.insertToNode(url,result.COMPONENT_CONTAINER_ID),BX.PreventDefault(e)}))),result.INSTANT_RELOAD&&result.COMPONENT_CONTAINER_ID?(url=BX.util.htmlspecialcharsback(result.FILTER_AJAX_URL),BX.ajax.insertToNode(url,result.COMPONENT_CONTAINER_ID)):(url=BX.util.htmlspecialcharsback(result.FILTER_AJAX_URL),this.filterCatalog(url,"N",result),result.SEF_SET_FILTER_URL?this.bindUrlToButton("set_filter",result.SEF_SET_FILTER_URL):this.bindUrlToButton("set_filter",url)))}if(this.sef){var set_filter=BX("set_filter"),reset_filter=BX("del_filter");set_filter.disabled=!1,reset_filter.disabled=!1}fromCache||""===this.cacheKey||(this.cache[this.cacheKey]=result),this.cacheKey=""},JCSmartFilter.prototype.bindUrlToButton=function(buttonId,url){var button=BX(buttonId);if(button){var proxy=function(j,func){return function(){return func(j)}};"submit"==button.type&&(button.type="button"),$(button).data("href",url),BX.unbindAll(button),BX.bind(button,"click",BX.proxy((function(){var url_filter=$(button).data("href"),id;if("del_filter"==$(button).attr("id")){var values=[],url_form=this.normal_url?$("form.smartfilter").attr("action"):this.ajaxURL;if(values[0]={name:"ajax",value:"y"},this.normal_url||this.gatherInputsValues(values,BX.findChildren(document.getElementById("smartfilter"),{attribute:"hidden"},!0)),values[1]={name:"reset_form",value:"y"},this.sef){var set_filter=BX("set_filter"),reset_filter=BX("del_filter");set_filter.disabled=!0,reset_filter.disabled=!0}BX.ajax.loadJSON(url_form,this.values2post(values),BX.delegate(this.postHandler,this))}else if(url_filter){if(this.sef){var set_filter=BX("set_filter"),reset_filter=BX("del_filter");set_filter.disabled=!0,reset_filter.disabled=!0}this.filterCatalog(url_filter,"Y")}}),this))}},JCSmartFilter.prototype.gatherInputsValues=function(values,elements){if(elements)for(var i=0;i<elements.length;i++){var el=elements[i];if(el.type)switch(el.type.toLowerCase()){case"text":case"textarea":case"password":case"hidden":case"select-one":el.value.length&&(values[values.length]={name:el.name,value:el.value});break;case"radio":case"checkbox":el.checked&&(values[values.length]={name:el.name,value:el.value});break;case"select-multiple":for(var j=0;j<el.options.length;j++)el.options[j].selected&&(values[values.length]={name:el.name,value:el.options[j].value})}}},JCSmartFilter.prototype.values2post=function(values){for(var post=[],current=post,i=0;i<values.length;){var p=values[i].name.indexOf("[");if(-1==p)current[values[i].name]=values[i].value,current=post,i++;else{var name=values[i].name.substring(0,p),rest=values[i].name.substring(p+1);current[name]||(current[name]=[]);var pp=rest.indexOf("]");-1==pp?(current=post,i++):0==pp?(current=current[name],values[i].name=""+current.length):(current=current[name],values[i].name=rest.substring(0,pp)+rest.substring(pp+1))}}return post},JCSmartFilter.prototype.hideFilterProps=function(element){var obj=element.parentNode,filterBlock=obj.querySelector("[data-role='bx_filter_block']"),propAngle=obj.querySelector("[data-role='prop_angle']");if(BX.hasClass(obj,"bx-active"))new BX.easing({duration:300,start:{opacity:1,height:filterBlock.offsetHeight},finish:{opacity:0,height:0},transition:BX.easing.transitions.quart,step:function(state){filterBlock.style.opacity=state.opacity,filterBlock.style.height=state.height+"px"},complete:function(){filterBlock.setAttribute("style",""),BX.removeClass(obj,"bx-active")}}).animate(),BX.addClass(propAngle,"fa-angle-down"),BX.removeClass(propAngle,"fa-angle-up");else{filterBlock.style.display="block",filterBlock.style.opacity=0,filterBlock.style.height="auto";var obj_children_height=filterBlock.offsetHeight;filterBlock.style.height=0,new BX.easing({duration:300,start:{opacity:0,height:0},finish:{opacity:1,height:obj_children_height},transition:BX.easing.transitions.quart,step:function(state){filterBlock.style.opacity=state.opacity,filterBlock.style.height=state.height+"px"},complete:function(){}}).animate(),BX.addClass(obj,"bx-active"),BX.removeClass(propAngle,"fa-angle-down"),BX.addClass(propAngle,"fa-angle-up")}},JCSmartFilter.prototype.showDropDownPopup=function(element,popupId){var contentNode=element.querySelector('[data-role="dropdownContent"]'),offset=$(element).offset();BX.PopupWindowManager.create("smartFilterDropDown"+popupId,element,{autoHide:!0,offsetLeft:0,offsetTop:0,overlay:!1,draggable:{restrict:!0},closeByEsc:!0,content:contentNode}).show(),$("#smartFilterDropDown"+popupId).css({top:offset.top+30,left:offset.left})},JCSmartFilter.prototype.selectDropDownItem=function(element,controlId){var wrapContainer,currentOption;BX.hasClass(element,"disabled")||(this.keyup(BX(controlId)),BX.findParent(BX(controlId),{className:"bx_filter_select_container"},!1).querySelector('[data-role="currentOption"]').innerHTML=element.innerHTML,$(element).closest(".bx_filter_select_popup").find("label").removeClass("selected"),BX.addClass(element,"selected"),BX.PopupWindowManager.getCurrentPopup().close())},BX.namespace("BX.Iblock.SmartFilter"),BX.Iblock.SmartFilter=function(){var SmartFilter=function(arParams){"object"==typeof arParams&&(this.leftSlider=BX(arParams.leftSlider),this.rightSlider=BX(arParams.rightSlider),this.tracker=BX(arParams.tracker),this.trackerWrap=BX(arParams.trackerWrap),this.minInput=BX(arParams.minInputId),this.maxInput=BX(arParams.maxInputId),this.minPrice=parseFloat(arParams.minPrice),this.maxPrice=parseFloat(arParams.maxPrice),this.curMinPrice=parseFloat(arParams.curMinPrice),this.curMaxPrice=parseFloat(arParams.curMaxPrice),this.fltMinPrice=arParams.fltMinPrice?parseFloat(arParams.fltMinPrice):parseFloat(arParams.curMinPrice),this.fltMaxPrice=arParams.fltMaxPrice?parseFloat(arParams.fltMaxPrice):parseFloat(arParams.curMaxPrice),this.precision=arParams.precision||0,this.priceDiff=this.maxPrice-this.minPrice,this.leftPercent=arParams.leftPercent?parseFloat(arParams.leftPercent):0,this.rightPercent=arParams.rightPercent?parseFloat(arParams.rightPercent):0,this.fltMinPercent=0,this.fltMaxPercent=0,this.colorUnavailableActive=BX(arParams.colorUnavailableActive),this.colorAvailableActive=BX(arParams.colorAvailableActive),this.colorAvailableInactive=BX(arParams.colorAvailableInactive),this.isTouch=!1,this.init(),"ontouchstart"in document.documentElement||"ontouchstart"in window?(this.isTouch=!0,BX.bind(this.leftSlider,"touchstart",BX.proxy((function(event){this.onMoveLeftSlider(event)}),this)),BX.bind(this.rightSlider,"touchstart",BX.proxy((function(event){this.onMoveRightSlider(event)}),this)),BX.bind(this.colorAvailableActive,"touchstart",BX.proxy((function(event){this.onChangeLeftSlider(event)}),this)),BX.bind(this.colorUnavailableActive,"touchstart",BX.proxy((function(event){this.onChangeLeftSlider(event)}),this)),BX.bind(this.colorAvailableInactive,"touchstart",BX.proxy((function(event){this.onChangeLeftSlider(event)}),this))):(BX.bind(this.leftSlider,"mousedown",BX.proxy((function(event){this.onMoveLeftSlider(event)}),this)),BX.bind(this.rightSlider,"mousedown",BX.proxy((function(event){this.onMoveRightSlider(event)}),this)),BX.bind(this.colorAvailableActive,"mousedown",BX.proxy((function(event){this.onChangeLeftSlider(event)}),this)),BX.bind(this.colorUnavailableActive,"mousedown",BX.proxy((function(event){this.onChangeLeftSlider(event)}),this)),BX.bind(this.colorAvailableInactive,"mousedown",BX.proxy((function(event){this.onChangeLeftSlider(event)}),this))),BX.bind(this.minInput,"keyup",BX.proxy((function(event){this.onInputChange()}),this)),BX.bind(this.maxInput,"keyup",BX.proxy((function(event){this.onInputChange()}),this)))};return SmartFilter.prototype.init=function(){var priceDiff;this.curMinPrice>this.minPrice&&(priceDiff=this.curMinPrice-this.minPrice,this.leftPercent=100*priceDiff/this.priceDiff,this.leftSlider.style.left=this.leftPercent+"%",this.colorUnavailableActive.style.left=this.leftPercent+"%"),this.setMinFilteredValue(this.fltMinPrice),this.curMaxPrice<this.maxPrice&&(priceDiff=this.maxPrice-this.curMaxPrice,this.rightPercent=100*priceDiff/this.priceDiff,this.rightSlider.style.right=this.rightPercent+"%",this.colorUnavailableActive.style.right=this.rightPercent+"%"),this.setMaxFilteredValue(this.fltMaxPrice)},SmartFilter.prototype.setMinFilteredValue=function(fltMinPrice){if(this.fltMinPrice=parseFloat(fltMinPrice),this.fltMinPrice>=this.minPrice){var priceDiff=this.fltMinPrice-this.minPrice;this.fltMinPercent=100*priceDiff/this.priceDiff,this.leftPercent>this.fltMinPercent?this.colorAvailableActive.style.left=this.leftPercent+"%":this.colorAvailableActive.style.left=this.fltMinPercent+"%",this.colorAvailableInactive.style.left=this.fltMinPercent+"%"}else this.colorAvailableActive.style.left="0%",this.colorAvailableInactive.style.left="0%"},SmartFilter.prototype.setMaxFilteredValue=function(fltMaxPrice){if(this.fltMaxPrice=parseFloat(fltMaxPrice),this.fltMaxPrice<=this.maxPrice){var priceDiff=this.maxPrice-this.fltMaxPrice;this.fltMaxPercent=100*priceDiff/this.priceDiff,this.rightPercent>this.fltMaxPercent?this.colorAvailableActive.style.right=this.rightPercent+"%":this.colorAvailableActive.style.right=this.fltMaxPercent+"%",this.colorAvailableInactive.style.right=this.fltMaxPercent+"%"}else this.colorAvailableActive.style.right="0%",this.colorAvailableInactive.style.right="0%"},SmartFilter.prototype.getXCoord=function(elem){var box=elem.getBoundingClientRect(),body=document.body,docElem=document.documentElement,scrollLeft=window.pageXOffset||docElem.scrollLeft||body.scrollLeft,clientLeft=docElem.clientLeft||body.clientLeft||0,left=box.left+scrollLeft-clientLeft;return Math.round(left)},SmartFilter.prototype.getPageX=function(e){e=e||window.event;var pageX=null;if(this.isTouch&&null!=e.targetTouches[0])pageX=e.targetTouches[0].pageX;else if(null!=e.pageX)pageX=e.pageX;else if(null!=e.clientX){var html=document.documentElement,body=document.body;pageX=e.clientX+(html.scrollLeft||body&&body.scrollLeft||0),pageX-=html.clientLeft||0}return pageX},SmartFilter.prototype.recountMinPrice=function(){var newMinPrice=this.priceDiff*this.leftPercent/100;(newMinPrice=(this.minPrice+newMinPrice).toFixed(this.precision))!=this.minPrice?this.minInput.value=newMinPrice:this.minInput.value="",smartFilter.keyup(this.minInput)},SmartFilter.prototype.recountMaxPrice=function(){var newMaxPrice=this.priceDiff*this.rightPercent/100;(newMaxPrice=(this.maxPrice-newMaxPrice).toFixed(this.precision))!=this.maxPrice?this.maxInput.value=newMaxPrice:this.maxInput.value="",smartFilter.keyup(this.maxInput)},SmartFilter.prototype.onInputChange=function(){var priceDiff;if(this.minInput.value){var leftInputValue=this.minInput.value;leftInputValue<this.minPrice&&(leftInputValue=this.minPrice),leftInputValue>this.maxPrice&&(leftInputValue=this.maxPrice),priceDiff=leftInputValue-this.minPrice,this.leftPercent=100*priceDiff/this.priceDiff,this.makeLeftSliderMove(!1)}if(this.maxInput.value){var rightInputValue=this.maxInput.value;rightInputValue<this.minPrice&&(rightInputValue=this.minPrice),rightInputValue>this.maxPrice&&(rightInputValue=this.maxPrice),priceDiff=this.maxPrice-rightInputValue,this.rightPercent=100*priceDiff/this.priceDiff,this.makeRightSliderMove(!1)}},SmartFilter.prototype.makeLeftSliderMove=function(recountPrice){recountPrice=!1!==recountPrice,this.leftSlider.style.left=this.leftPercent+"%",this.colorUnavailableActive.style.left=this.leftPercent+"%";var areBothSlidersMoving=!1;this.leftPercent+this.rightPercent>=100&&(areBothSlidersMoving=!0,this.rightPercent=100-this.leftPercent,this.rightSlider.style.right=this.rightPercent+"%",this.colorUnavailableActive.style.right=this.rightPercent+"%"),this.leftPercent>=this.fltMinPercent&&this.leftPercent<=100-this.fltMaxPercent?(this.colorAvailableActive.style.left=this.leftPercent+"%",areBothSlidersMoving&&(this.colorAvailableActive.style.right=100-this.leftPercent+"%")):this.leftPercent<=this.fltMinPercent?(this.colorAvailableActive.style.left=this.fltMinPercent+"%",areBothSlidersMoving&&(this.colorAvailableActive.style.right=100-this.fltMinPercent+"%")):this.leftPercent>=this.fltMaxPercent&&(this.colorAvailableActive.style.left=100-this.fltMaxPercent+"%",areBothSlidersMoving&&(this.colorAvailableActive.style.right=this.fltMaxPercent+"%")),recountPrice&&(this.recountMinPrice(),areBothSlidersMoving&&this.recountMaxPrice())},SmartFilter.prototype.countNewLeft=function(event){var pageX=this.getPageX(event),trackerXCoord=this.getXCoord(this.trackerWrap),rightEdge=this.trackerWrap.offsetWidth,newLeft=pageX-trackerXCoord;return newLeft<0?newLeft=0:newLeft>rightEdge&&(newLeft=rightEdge),newLeft},SmartFilter.prototype.onMoveLeftSlider=function(e){if(this.isTouch||(this.leftSlider.ondragstart=function(){return!1}),$(".bx_filter .bx_filter_parameters_box_container input").prop("disabled",!1),this.isTouch){var onMoveFunction=BX.proxy((function(event){this.leftPercent=100*this.countNewLeft(event)/this.trackerWrap.offsetWidth,this.makeLeftSliderMove()}),this),onEndFunction=BX.proxy((function(event){window.removeEventListener("touchmove",onMoveFunction,!1),window.removeEventListener("touchend",onEndFunction,!1),onMoveFunction=onEndFunction=null}),this);window.addEventListener("touchmove",onMoveFunction,!1),window.addEventListener("touchend",onEndFunction,!1)}else document.onmousemove=BX.proxy((function(event){this.leftPercent=100*this.countNewLeft(event)/this.trackerWrap.offsetWidth,this.makeLeftSliderMove()}),this),document.onmouseup=function(){document.onmousemove=document.onmouseup=null};return!1},SmartFilter.prototype.makeRightSliderMove=function(recountPrice){recountPrice=!1!==recountPrice,this.rightSlider.style.right=this.rightPercent+"%",this.colorUnavailableActive.style.right=this.rightPercent+"%";var areBothSlidersMoving=!1;this.leftPercent+this.rightPercent>=100&&(areBothSlidersMoving=!0,this.leftPercent=100-this.rightPercent,this.leftSlider.style.left=this.leftPercent+"%",this.colorUnavailableActive.style.left=this.leftPercent+"%"),100-this.rightPercent>=this.fltMinPercent&&this.rightPercent>=this.fltMaxPercent?(this.colorAvailableActive.style.right=this.rightPercent+"%",areBothSlidersMoving&&(this.colorAvailableActive.style.left=100-this.rightPercent+"%")):this.rightPercent<=this.fltMaxPercent?(this.colorAvailableActive.style.right=this.fltMaxPercent+"%",areBothSlidersMoving&&(this.colorAvailableActive.style.left=100-this.fltMaxPercent+"%")):100-this.rightPercent<=this.fltMinPercent&&(this.colorAvailableActive.style.right=100-this.fltMinPercent+"%",areBothSlidersMoving&&(this.colorAvailableActive.style.left=this.fltMinPercent+"%")),recountPrice&&(this.recountMaxPrice(),areBothSlidersMoving&&this.recountMinPrice())},SmartFilter.prototype.onMoveRightSlider=function(e){return this.isTouch||(this.rightSlider.ondragstart=function(){return!1}),$(".bx_filter .bx_filter_parameters_box_container input").prop("disabled",!1),this.isTouch?(document.ontouchmove=BX.proxy((function(event){this.rightPercent=100-100*this.countNewLeft(event)/this.trackerWrap.offsetWidth,this.makeRightSliderMove()}),this),document.ontouchend=function(){document.ontouchmove=document.ontouchend=null}):(document.onmousemove=BX.proxy((function(event){this.rightPercent=100-100*this.countNewLeft(event)/this.trackerWrap.offsetWidth,this.makeRightSliderMove()}),this),document.onmouseup=function(){document.onmousemove=document.onmouseup=null}),!1},SmartFilter.prototype.onChangeLeftSlider=function(e){if(this.isTouch||(this.leftSlider.ondragstart=function(){}),this.isTouch){var percent=100*this.countNewLeft(e)/this.trackerWrap.offsetWidth;if($(e.target).is(".bx_ui_slider_handle"))return;percent<50?(this.leftPercent=percent,this.makeLeftSliderMove()):(this.rightPercent=100-percent,this.makeRightSliderMove())}else{var percent=100*this.countNewLeft(event)/this.trackerWrap.offsetWidth;if($(event.target).is(".bx_ui_slider_handle")||!$(event.target).is("[class^=bx_ui_slider]"))return;percent<50?(this.leftPercent=percent+1,this.makeLeftSliderMove()):(this.rightPercent=100-percent,this.makeRightSliderMove()),document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}return!1},SmartFilter}();
/* End */
;
; /* Start:"a:4:{s:4:"full";s:69:"/bitrix/templates/aspro_next/js/jquery.history.min.js?161114994421571";s:6:"source";s:49:"/bitrix/templates/aspro_next/js/jquery.history.js";s:3:"min";s:0:"";s:3:"map";s:0:"";}"*/
window.JSON||(window.JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)d=rep[c],typeof d=="string"&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));return e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}}"use strict",typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var JSON=window.JSON,cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(a,b){"use strict";var c=a.History=a.History||{},d=a.jQuery;if(typeof c.Adapter!="undefined")throw new Error("History.js Adapter has already been loaded...");c.Adapter={bind:function(a,b,c){d(a).bind(b,c)},trigger:function(a,b,c){d(a).trigger(b,c)},extractEventData:function(a,c,d){var e=c&&c.originalEvent&&c.originalEvent[a]||d&&d[a]||b;return e},onDomLoad:function(a){d(a)}},typeof c.init!="undefined"&&c.init()}(window),function(a,b){"use strict";var c=a.document,d=a.setTimeout||d,e=a.clearTimeout||e,f=a.setInterval||f,g=a.History=a.History||{};if(typeof g.initHtml4!="undefined")throw new Error("History.js HTML4 Support has already been loaded...");g.initHtml4=function(){if(typeof g.initHtml4.initialized!="undefined")return!1;g.initHtml4.initialized=!0,g.enabled=!0,g.savedHashes=[],g.isLastHash=function(a){var b=g.getHashByIndex(),c;return c=a===b,c},g.saveHash=function(a){return g.isLastHash(a)?!1:(g.savedHashes.push(a),!0)},g.getHashByIndex=function(a){var b=null;return typeof a=="undefined"?b=g.savedHashes[g.savedHashes.length-1]:a<0?b=g.savedHashes[g.savedHashes.length+a]:b=g.savedHashes[a],b},g.discardedHashes={},g.discardedStates={},g.discardState=function(a,b,c){var d=g.getHashByState(a),e;return e={discardedState:a,backState:c,forwardState:b},g.discardedStates[d]=e,!0},g.discardHash=function(a,b,c){var d={discardedHash:a,backState:c,forwardState:b};return g.discardedHashes[a]=d,!0},g.discardedState=function(a){var b=g.getHashByState(a),c;return c=g.discardedStates[b]||!1,c},g.discardedHash=function(a){var b=g.discardedHashes[a]||!1;return b},g.recycleState=function(a){var b=g.getHashByState(a);return g.discardedState(a)&&delete g.discardedStates[b],!0},g.emulated.hashChange&&(g.hashChangeInit=function(){g.checkerFunction=null;var b="",d,e,h,i;return g.isInternetExplorer()?(d="historyjs-iframe",e=c.createElement("iframe"),e.setAttribute("id",d),e.style.display="none",c.body.appendChild(e),e.contentWindow.document.open(),e.contentWindow.document.close(),h="",i=!1,g.checkerFunction=function(){if(i)return!1;i=!0;var c=g.getHash()||"",d=g.unescapeHash(e.contentWindow.document.location.hash)||"";return c!==b?(b=c,d!==c&&(h=d=c,e.contentWindow.document.open(),e.contentWindow.document.close(),e.contentWindow.document.location.hash=g.escapeHash(c)),g.Adapter.trigger(a,"hashchange")):d!==h&&(h=d,g.setHash(d,!1)),i=!1,!0}):g.checkerFunction=function(){var c=g.getHash();return c!==b&&(b=c,g.Adapter.trigger(a,"hashchange")),!0},g.intervalList.push(f(g.checkerFunction,g.options.hashChangeInterval)),!0},g.Adapter.onDomLoad(g.hashChangeInit)),g.emulated.pushState&&(g.onHashChange=function(b){var d=b&&b.newURL||c.location.href,e=g.getHashByUrl(d),f=null,h=null,i=null,j;return g.isLastHash(e)?(g.busy(!1),!1):(g.doubleCheckComplete(),g.saveHash(e),e&&g.isTraditionalAnchor(e)?(g.Adapter.trigger(a,"anchorchange"),g.busy(!1),!1):(f=g.extractState(g.getFullUrl(e||c.location.href,!1),!0),g.isLastSavedState(f)?(g.busy(!1),!1):(h=g.getHashByState(f),j=g.discardedState(f),j?(g.getHashByIndex(-2)===g.getHashByState(j.forwardState)?g.back(!1):g.forward(!1),!1):(g.pushState(f.data,f.title,f.url,!1),!0))))},g.Adapter.bind(a,"hashchange",g.onHashChange),g.pushState=function(b,d,e,f){if(g.getHashByUrl(e))throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(f!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.pushState,args:arguments,queue:f}),!1;g.busy(!0);var h=g.createStateObject(b,d,e),i=g.getHashByState(h),j=g.getState(!1),k=g.getHashByState(j),l=g.getHash();return g.storeState(h),g.expectedStateId=h.id,g.recycleState(h),g.setTitle(h),i===k?(g.busy(!1),!1):i!==l&&i!==g.getShortUrl(c.location.href)?(g.setHash(i,!1),!1):(g.saveState(h),g.Adapter.trigger(a,"statechange"),g.busy(!1),!0)},g.replaceState=function(a,b,c,d){if(g.getHashByUrl(c))throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(d!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.replaceState,args:arguments,queue:d}),!1;g.busy(!0);var e=g.createStateObject(a,b,c),f=g.getState(!1),h=g.getStateByIndex(-2);return g.discardState(f,e,h),g.pushState(e.data,e.title,e.url,!1),!0}),g.emulated.pushState&&g.getHash()&&!g.emulated.hashChange&&g.Adapter.onDomLoad(function(){g.Adapter.trigger(a,"hashchange")})},typeof g.init!="undefined"&&g.init()}(window),function(a,b){"use strict";var c=a.console||b,d=a.document,e=a.navigator,f=a.sessionStorage||!1,g=a.setTimeout,h=a.clearTimeout,i=a.setInterval,j=a.clearInterval,k=a.JSON,l=a.alert,m=a.History=a.History||{},n=a.history;k.stringify=k.stringify||k.encode,k.parse=k.parse||k.decode;if(typeof m.init!="undefined")throw new Error("History.js Core has already been loaded...");m.init=function(){return typeof m.Adapter=="undefined"?!1:(typeof m.initCore!="undefined"&&m.initCore(),typeof m.initHtml4!="undefined"&&m.initHtml4(),!0)},m.initCore=function(){if(typeof m.initCore.initialized!="undefined")return!1;m.initCore.initialized=!0,m.options=m.options||{},m.options.hashChangeInterval=m.options.hashChangeInterval||100,m.options.safariPollInterval=m.options.safariPollInterval||500,m.options.doubleCheckInterval=m.options.doubleCheckInterval||500,m.options.storeInterval=m.options.storeInterval||1e3,m.options.busyDelay=m.options.busyDelay||250,m.options.debug=m.options.debug||!1,m.options.initialTitle=m.options.initialTitle||d.title,m.intervalList=[],m.clearAllIntervals=function(){var a,b=m.intervalList;if(typeof b!="undefined"&&b!==null){for(a=0;a<b.length;a++)j(b[a]);m.intervalList=null}},m.debug=function(){(m.options.debug||!1)&&m.log.apply(m,arguments)},m.log=function(){var a=typeof c!="undefined"&&typeof c.log!="undefined"&&typeof c.log.apply!="undefined",b=d.getElementById("log"),e,f,g,h,i;a?(h=Array.prototype.slice.call(arguments),e=h.shift(),typeof c.debug!="undefined"?c.debug.apply(c,[e,h]):c.log.apply(c,[e,h])):e="\n"+arguments[0]+"\n";for(f=1,g=arguments.length;f<g;++f){i=arguments[f];if(typeof i=="object"&&typeof k!="undefined")try{i=k.stringify(i)}catch(j){}e+="\n"+i+"\n"}return b?(b.value+=e+"\n-----\n",b.scrollTop=b.scrollHeight-b.clientHeight):a||l(e),!0},m.getInternetExplorerMajorVersion=function(){var a=m.getInternetExplorerMajorVersion.cached=typeof m.getInternetExplorerMajorVersion.cached!="undefined"?m.getInternetExplorerMajorVersion.cached:function(){var a=3,b=d.createElement("div"),c=b.getElementsByTagName("i");while((b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->")&&c[0]);return a>4?a:!1}();return a},m.isInternetExplorer=function(){var a=m.isInternetExplorer.cached=typeof m.isInternetExplorer.cached!="undefined"?m.isInternetExplorer.cached:Boolean(m.getInternetExplorerMajorVersion());return a},m.emulated={pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(e.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(e.userAgent)),hashChange:Boolean(!("onhashchange"in a||"onhashchange"in d)||m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8)},m.enabled=!m.emulated.pushState,m.bugs={setHash:Boolean(!m.emulated.pushState&&e.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),safariPoll:Boolean(!m.emulated.pushState&&e.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),ieDoubleCheck:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<7)},m.isEmptyObject=function(a){for(var b in a)return!1;return!0},m.cloneObject=function(a){var b,c;return a?(b=k.stringify(a),c=k.parse(b)):c={},c},m.getRootUrl=function(){var a=d.location.protocol+"//"+(d.location.hostname||d.location.host);if(d.location.port||!1)a+=":"+d.location.port;return a+="/",a},m.getBaseHref=function(){var a=d.getElementsByTagName("base"),b=null,c="";return a.length===1&&(b=a[0],c=b.href.replace(/[^\/]+$/,"")),c=c.replace(/\/+$/,""),c&&(c+="/"),c},m.getBaseUrl=function(){var a=m.getBaseHref()||m.getBasePageUrl()||m.getRootUrl();return a},m.getPageUrl=function(){var a=m.getState(!1,!1),b=(a||{}).url||d.location.href,c;return c=b.replace(/\/+$/,"").replace(/[^\/]+$/,function(a,b,c){return/\./.test(a)?a:a+"/"}),c},m.getBasePageUrl=function(){var a=d.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a,b,c){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/";return a},m.getFullUrl=function(a,b){var c=a,d=a.substring(0,1);return b=typeof b=="undefined"?!0:b,/[a-z]+\:\/\//.test(a)||(d==="/"?c=m.getRootUrl()+a.replace(/^\/+/,""):d==="#"?c=m.getPageUrl().replace(/#.*/,"")+a:d==="?"?c=m.getPageUrl().replace(/[\?#].*/,"")+a:b?c=m.getBaseUrl()+a.replace(/^(\.\/)+/,""):c=m.getBasePageUrl()+a.replace(/^(\.\/)+/,"")),c.replace(/\#$/,"")},m.getShortUrl=function(a){var b=a,c=m.getBaseUrl(),d=m.getRootUrl();return m.emulated.pushState&&(b=b.replace(c,"")),b=b.replace(d,"/"),m.isTraditionalAnchor(b)&&(b="./"+b),b=b.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),b},m.store={},m.idToState=m.idToState||{},m.stateToId=m.stateToId||{},m.urlToId=m.urlToId||{},m.storedStates=m.storedStates||[],m.savedStates=m.savedStates||[],m.normalizeStore=function(){m.store.idToState=m.store.idToState||{},m.store.urlToId=m.store.urlToId||{},m.store.stateToId=m.store.stateToId||{}},m.getState=function(a,b){typeof a=="undefined"&&(a=!0),typeof b=="undefined"&&(b=!0);var c=m.getLastSavedState();return!c&&b&&(c=m.createStateObject()),a&&(c=m.cloneObject(c),c.url=c.cleanUrl||c.url),c},m.getIdByState=function(a){var b=m.extractId(a.url),c;if(!b){c=m.getStateString(a);if(typeof m.stateToId[c]!="undefined")b=m.stateToId[c];else if(typeof m.store.stateToId[c]!="undefined")b=m.store.stateToId[c];else{for(;;){b=(new Date).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof m.idToState[b]=="undefined"&&typeof m.store.idToState[b]=="undefined")break}m.stateToId[c]=b,m.idToState[b]=a}}return b},m.normalizeState=function(a){var b,c;if(!a||typeof a!="object")a={};if(typeof a.normalized!="undefined")return a;if(!a.data||typeof a.data!="object")a.data={};b={},b.normalized=!0,b.title=a.title||"",b.url=m.getFullUrl(m.unescapeString(a.url||d.location.href)),b.hash=m.getShortUrl(b.url),b.data=m.cloneObject(a.data),b.id=m.getIdByState(b),b.cleanUrl=b.url.replace(/\??\&_suid.*/,""),b.url=b.cleanUrl,c=!m.isEmptyObject(b.data);if(b.title||c)b.hash=m.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||(b.hash+="?"),b.hash+="&_suid="+b.id;return b.hashedUrl=m.getFullUrl(b.hash),(m.emulated.pushState||m.bugs.safariPoll)&&m.hasUrlDuplicate(b)&&(b.url=b.hashedUrl),b},m.createStateObject=function(a,b,c){var d={data:a,title:b,url:c};return d=m.normalizeState(d),d},m.getStateById=function(a){a=String(a);var c=m.idToState[a]||m.store.idToState[a]||b;return c},m.getStateString=function(a){var b,c,d;return b=m.normalizeState(a),c={data:b.data,title:a.title,url:a.url},d=k.stringify(c),d},m.getStateId=function(a){var b,c;return b=m.normalizeState(a),c=b.id,c},m.getHashByState=function(a){var b,c;return b=m.normalizeState(a),c=b.hash,c},m.extractId=function(a){var b,c,d;return c=/(.*)\&_suid=([0-9]+)$/.exec(a),d=c?c[1]||a:a,b=c?String(c[2]||""):"",b||!1},m.isTraditionalAnchor=function(a){var b=!/[\/\?\.]/.test(a);return b},m.extractState=function(a,b){var c=null,d,e;return b=b||!1,d=m.extractId(a),d&&(c=m.getStateById(d)),c||(e=m.getFullUrl(a),d=m.getIdByUrl(e)||!1,d&&(c=m.getStateById(d)),!c&&b&&!m.isTraditionalAnchor(a)&&(c=m.createStateObject(null,null,e))),c},m.getIdByUrl=function(a){var c=m.urlToId[a]||m.store.urlToId[a]||b;return c},m.getLastSavedState=function(){return m.savedStates[m.savedStates.length-1]||b},m.getLastStoredState=function(){return m.storedStates[m.storedStates.length-1]||b},m.hasUrlDuplicate=function(a){var b=!1,c;return c=m.extractState(a.url),b=c&&c.id!==a.id,b},m.storeState=function(a){return m.urlToId[a.url]=a.id,m.storedStates.push(m.cloneObject(a)),a},m.isLastSavedState=function(a){var b=!1,c,d,e;return m.savedStates.length&&(c=a.id,d=m.getLastSavedState(),e=d.id,b=c===e),b},m.saveState=function(a){return m.isLastSavedState(a)?!1:(m.savedStates.push(m.cloneObject(a)),!0)},m.getStateByIndex=function(a){var b=null;return typeof a=="undefined"?b=m.savedStates[m.savedStates.length-1]:a<0?b=m.savedStates[m.savedStates.length+a]:b=m.savedStates[a],b},m.getHash=function(){var a=m.unescapeHash(d.location.hash);return a},m.unescapeString=function(b){var c=b,d;for(;;){d=a.unescape(c);if(d===c)break;c=d}return c},m.unescapeHash=function(a){var b=m.normalizeHash(a);return b=m.unescapeString(b),b},m.normalizeHash=function(a){var b=a.replace(/[^#]*#/,"").replace(/#.*/,"");return b},m.setHash=function(a,b){var c,e,f;return b!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.setHash,args:arguments,queue:b}),!1):(c=m.escapeHash(a),m.busy(!0),e=m.extractState(a,!0),e&&!m.emulated.pushState?m.pushState(e.data,e.title,e.url,!1):d.location.hash!==c&&(m.bugs.setHash?(f=m.getPageUrl(),m.pushState(null,null,f+"#"+c,!1)):d.location.hash=c),m)},m.escapeHash=function(b){var c=m.normalizeHash(b);return c=a.escape(c),m.bugs.hashEscape||(c=c.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),c},m.getHashByUrl=function(a){var b=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return b=m.unescapeHash(b),b},m.setTitle=function(a){var b=a.title,c;b||(c=m.getStateByIndex(0),c&&c.url===a.url&&(b=c.title||m.options.initialTitle));try{d.getElementsByTagName("title")[0].innerHTML=b.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}return d.title=b,m},m.queues=[],m.busy=function(a){typeof a!="undefined"?m.busy.flag=a:typeof m.busy.flag=="undefined"&&(m.busy.flag=!1);if(!m.busy.flag){h(m.busy.timeout);var b=function(){var a,c,d;if(m.busy.flag)return;for(a=m.queues.length-1;a>=0;--a){c=m.queues[a];if(c.length===0)continue;d=c.shift(),m.fireQueueItem(d),m.busy.timeout=g(b,m.options.busyDelay)}};m.busy.timeout=g(b,m.options.busyDelay)}return m.busy.flag},m.busy.flag=!1,m.fireQueueItem=function(a){return a.callback.apply(a.scope||m,a.args||[])},m.pushQueue=function(a){return m.queues[a.queue||0]=m.queues[a.queue||0]||[],m.queues[a.queue||0].push(a),m},m.queue=function(a,b){return typeof a=="function"&&(a={callback:a}),typeof b!="undefined"&&(a.queue=b),m.busy()?m.pushQueue(a):m.fireQueueItem(a),m},m.clearQueue=function(){return m.busy.flag=!1,m.queues=[],m},m.stateChanged=!1,m.doubleChecker=!1,m.doubleCheckComplete=function(){return m.stateChanged=!0,m.doubleCheckClear(),m},m.doubleCheckClear=function(){return m.doubleChecker&&(h(m.doubleChecker),m.doubleChecker=!1),m},m.doubleCheck=function(a){return m.stateChanged=!1,m.doubleCheckClear(),m.bugs.ieDoubleCheck&&(m.doubleChecker=g(function(){return m.doubleCheckClear(),m.stateChanged||a(),!0},m.options.doubleCheckInterval)),m},m.safariStatePoll=function(){var b=m.extractState(d.location.href),c;if(!m.isLastSavedState(b))c=b;else return;return c||(c=m.createStateObject()),m.Adapter.trigger(a,"popstate"),m},m.back=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.back,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.back(!1)}),n.go(-1),!0)},m.forward=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.forward,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.forward(!1)}),n.go(1),!0)},m.go=function(a,b){var c;if(a>0)for(c=1;c<=a;++c)m.forward(b);else{if(!(a<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(c=-1;c>=a;--c)m.back(b)}return m};if(m.emulated.pushState){var o=function(){};m.pushState=m.pushState||o,m.replaceState=m.replaceState||o}else m.onPopState=function(b,c){var e=!1,f=!1,g,h;return m.doubleCheckComplete(),g=m.getHash(),g?(h=m.extractState(g||d.location.href,!0),h?m.replaceState(h.data,h.title,h.url,!1):(m.Adapter.trigger(a,"anchorchange"),m.busy(!1)),m.expectedStateId=!1,!1):(e=m.Adapter.extractEventData("state",b,c)||!1,e?f=m.getStateById(e):m.expectedStateId?f=m.getStateById(m.expectedStateId):f=m.extractState(d.location.href),f||(f=m.createStateObject(null,null,d.location.href)),m.expectedStateId=!1,m.isLastSavedState(f)?(m.busy(!1),!1):(m.storeState(f),m.saveState(f),m.setTitle(f),m.Adapter.trigger(a,"statechange"),m.busy(!1),!0))},m.Adapter.bind(a,"popstate",m.onPopState),m.pushState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.pushState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.pushState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0},m.replaceState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.replaceState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.replaceState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0};if(f){try{m.store=k.parse(f.getItem("History.store"))||{}}catch(p){m.store={}}m.normalizeStore()}else m.store={},m.normalizeStore();m.Adapter.bind(a,"beforeunload",m.clearAllIntervals),m.Adapter.bind(a,"unload",m.clearAllIntervals),m.saveState(m.storeState(m.extractState(d.location.href,!0))),f&&(m.onUnload=function(){var a,b;try{a=k.parse(f.getItem("History.store"))||{}}catch(c){a={}}a.idToState=a.idToState||{},a.urlToId=a.urlToId||{},a.stateToId=a.stateToId||{};for(b in m.idToState){if(!m.idToState.hasOwnProperty(b))continue;a.idToState[b]=m.idToState[b]}for(b in m.urlToId){if(!m.urlToId.hasOwnProperty(b))continue;a.urlToId[b]=m.urlToId[b]}for(b in m.stateToId){if(!m.stateToId.hasOwnProperty(b))continue;a.stateToId[b]=m.stateToId[b]}m.store=a,m.normalizeStore(),f.setItem("History.store",k.stringify(a))},m.intervalList.push(i(m.onUnload,m.options.storeInterval)),m.Adapter.bind(a,"beforeunload",m.onUnload),m.Adapter.bind(a,"unload",m.onUnload));if(!m.emulated.pushState){m.bugs.safariPoll&&m.intervalList.push(i(m.safariStatePoll,m.options.safariPollInterval));if(e.vendor==="Apple Computer, Inc."||(e.appCodeName||"")==="Mozilla")m.Adapter.bind(a,"hashchange",function(){m.Adapter.trigger(a,"popstate")}),m.getHash()&&m.Adapter.onDomLoad(function(){m.Adapter.trigger(a,"hashchange")})}},m.init()}(window)
/* End */
;; /* /bitrix/templates/aspro_next/components/bitrix/catalog/main/script.min.js?16395121231396*/
; /* /bitrix/templates/aspro_next/js/dropdown-select.min.js?1639512124653*/
; /* /bitrix/templates/aspro_next/components/bitrix/news.list/landings_list3/script.min.js?1611149943351*/
; /* /bitrix/templates/aspro_next/components/bitrix/catalog.smart.filter/main_compact_ajax/script.min.js?163951212526416*/
; /* /bitrix/templates/aspro_next/js/jquery.history.min.js?161114994421571*/

//# sourceMappingURL=page_ff3863413d72eba14de07b6fb25b6ec4.map.js